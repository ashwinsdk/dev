@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
    * {
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background: #000000;
    }

    @media (prefers-reduced-motion: reduce) {
        html {
            scroll-behavior: auto;
        }

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    body {
        @apply text-white font-sans;
        background: #000000;
        overflow-x: hidden;
        min-height: 100vh;
    }

    #root {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    main {
        flex: 1;
    }

    ::selection {
        @apply bg-neon-500/30 text-white;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-dark-400;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-dark-50 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-neon-500/50;
    }

    /* Focus styles */
    :focus-visible {
        @apply outline-none ring-2 ring-neon-500 ring-offset-2 ring-offset-dark-500;
    }

    /* Remove default button styles */
    button {
        @apply cursor-pointer;
    }
}

/* Component layer */
@layer components {

    /* Glass panel effect */
    .glass-panel {
        @apply bg-white/5 backdrop-blur-xl border border-white/10 shadow-glass;
    }

    .glass-panel-strong {
        @apply bg-white/10 backdrop-blur-2xl border border-white/15 shadow-glass-lg;
    }

    /* Neon glow effects */
    .neon-glow {
        @apply shadow-neon;
    }

    .neon-glow-strong {
        @apply shadow-neon-strong;
    }

    .neon-border {
        @apply border border-neon-500/50;
    }

    .neon-text {
        @apply text-neon-500;
        text-shadow: 0 0 20px rgba(0, 255, 102, 0.5);
    }

    /* Button styles */
    .btn-primary {
        @apply inline-flex items-center justify-center gap-2 px-6 py-3 bg-neon-500 text-dark-500 font-semibold rounded-full transition-all duration-normal ease-smooth hover:bg-neon-400 hover:shadow-neon-strong focus-visible:ring-2 focus-visible:ring-neon-500 focus-visible:ring-offset-2 focus-visible:ring-offset-dark-500 active:scale-[0.98];
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center gap-2 px-6 py-3 bg-transparent text-white font-medium rounded-full border border-white/20 transition-all duration-normal ease-smooth hover:bg-white/5 hover:border-white/40 focus-visible:ring-2 focus-visible:ring-white/50 focus-visible:ring-offset-2 focus-visible:ring-offset-dark-500 active:scale-[0.98];
    }

    .btn-ghost {
        @apply inline-flex items-center justify-center gap-2 px-4 py-2 bg-transparent text-white/70 font-medium transition-all duration-fast ease-smooth hover:text-white hover:bg-white/5 focus-visible:ring-2 focus-visible:ring-white/50;
    }

    .btn-icon {
        @apply inline-flex items-center justify-center p-2 bg-transparent text-white/60 rounded-lg transition-all duration-fast ease-smooth hover:text-white hover:bg-white/10 focus-visible:ring-2 focus-visible:ring-neon-500;
    }

    /* Card styles */
    .project-card {
        @apply glass-panel rounded-2xl p-6 transition-all duration-normal ease-smooth hover:shadow-card-hover hover:border-neon-500/20;
    }

    /* Tech tag pills */
    .tech-tag {
        @apply inline-flex items-center px-3 py-1 bg-white/5 text-white/70 text-xs font-mono rounded-full border border-white/10 transition-all duration-fast hover:bg-neon-500/10 hover:text-neon-400 hover:border-neon-500/30;
    }

    /* Section styles */
    .section-container {
        @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    .section-padding {
        @apply py-20 sm:py-24 lg:py-32;
    }

    /* Grid background */
    .grid-background {
        background-image:
            linear-gradient(rgba(0, 255, 102, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 255, 102, 0.03) 1px, transparent 1px);
        background-size: 60px 60px;
    }

    .grid-background-subtle {
        background-image:
            linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
    }

    /* Micro dot indicator */
    .micro-dot {
        @apply w-1.5 h-1.5 rounded-full bg-neon-500;
    }

    .micro-dot-inactive {
        @apply w-1.5 h-1.5 rounded-full bg-white/30;
    }

    /* Feature bullet */
    .feature-bullet {
        @apply flex items-start gap-3;
    }

    .feature-bullet::before {
        content: '';
        @apply w-2 h-2 mt-2 rounded-full bg-neon-500 flex-shrink-0;
    }
}

/* Utility layer */
@layer utilities {

    /* Text gradient */
    .text-gradient-neon {
        @apply bg-gradient-to-r from-neon-400 via-neon-500 to-neon-300 bg-clip-text text-transparent;
    }

    /* Mask gradients for fading effects */
    .mask-fade-bottom {
        mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
        -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
    }

    .mask-fade-top {
        mask-image: linear-gradient(to top, black 60%, transparent 100%);
        -webkit-mask-image: linear-gradient(to top, black 60%, transparent 100%);
    }

    /* Animation delays */
    .animation-delay-100 {
        animation-delay: 100ms;
    }

    .animation-delay-200 {
        animation-delay: 200ms;
    }

    .animation-delay-300 {
        animation-delay: 300ms;
    }

    .animation-delay-400 {
        animation-delay: 400ms;
    }

    .animation-delay-500 {
        animation-delay: 500ms;
    }

    /* Hide scrollbar but allow scroll */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Perspective for 3D transforms */
    .perspective-1000 {
        perspective: 1000px;
    }

    .preserve-3d {
        transform-style: preserve-3d;
    }
}


/* ====== NEW HERO BACKGROUND SYSTEM ====== */
/* Layer Structure:
   z-index 1: Space background (3D stars / GLB)
   z-index 2: Planet layer (2D image)
   z-index 3: Noise overlay
   z-index 10+: Hero content
*/

/* === LAYER 1: Space Background (3D Stars) === */
.space-bg-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
    background: #000000;
}

.space-bg-container canvas {
    width: 100% !important;
    height: 100% !important;
}

/* === LAYER 2: Planet Layer === */
.planet-layer {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    pointer-events: none;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.planet-wrapper {
    position: absolute;
    top: 52%;
    left: 50%;
    transform: translate(-50%, -48%);
    will-change: transform, opacity;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 150vmin;
    min-width: 140vw;
    max-width: 190vw;
    height: auto;
    isolation: isolate;
}

.planet-img {
    display: block;
    object-fit: contain;
    max-width: none;
    height: auto;
    width: 100%;
    filter: drop-shadow(0 0 24px rgba(0, 255, 102, 0.12));
}

/* Noise blur overlay on planet */
.planet-wrapper::before {
    content: '';
    position: absolute;
    inset: -10%;
    border-radius: 50%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.08;
    filter: blur(14px) saturate(0.9);
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: -1;
    mask-image: radial-gradient(circle at center, black 45%, transparent 80%);
}

/* Darker overlay on top of noise/planet */
/* .planet-wrapper::after {
    content: '';
    position: absolute;
    inset: -6%;
    border-radius: 50%;
    background: radial-gradient(circle at center,
            rgba(0, 0, 0, 0.35) 0%,
            rgba(0, 0, 0, 0.55) 40%,
            rgba(0, 0, 0, 0.75) 65%,
            rgba(0, 0, 0, 0.9) 85%,
            rgba(0, 0, 0, 0.95) 100%);
    pointer-events: none;
    z-index: -2;
} */

/* Desktop - Large screens (1440px+) */
@media (min-width: 1440px) {
    .planet-wrapper {
        width: 158vmin;
        min-width: 145vw;
        max-width: 200vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Desktop - Standard (1024px - 1439px) */
@media (max-width: 1439px) and (min-width: 1024px) {
    .planet-wrapper {
        width: 152vmin;
        min-width: 142vw;
        max-width: 195vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Tablet Landscape (768px - 1023px) */
@media (max-width: 1023px) and (min-width: 768px) {
    .planet-wrapper {
        width: 148vmin;
        min-width: 140vw;
        max-width: 192vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Tablet Portrait & Large Mobile (640px - 767px) */
@media (max-width: 767px) and (min-width: 640px) {
    .planet-wrapper {
        width: 150vmin;
        min-width: 142vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Mobile (480px - 639px) */
@media (max-width: 639px) and (min-width: 480px) {
    .planet-wrapper {
        width: 152vmin;
        min-width: 145vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Small Mobile (380px - 479px) */
@media (max-width: 479px) and (min-width: 380px) {
    .planet-wrapper {
        width: 154vmin;
        min-width: 148vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Extra Small Mobile (<380px) */
@media (max-width: 379px) {
    .planet-wrapper {
        width: 160vmin;
        min-width: 152vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
    .planet-wrapper {
        width: 140vmax;
        min-width: 150vw;
    }
}

@media (orientation: landscape) and (max-height: 700px) and (min-height: 501px) {
    .planet-wrapper {
        width: 145vmax;
        min-width: 155vw;
    }
}

/* Flip phones / Foldables */
@media (max-width: 320px) {
    .planet-wrapper {
        width: 165vmin;
        min-width: 158vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Very tall screens (Galaxy Fold, etc) */
@media (min-aspect-ratio: 9/21) and (max-width: 420px) {
    .planet-wrapper {
        width: 160vmin;
        min-width: 152vw;
        left: 50%;
        transform: translate(-50%, -48%);
    }
}

/* Ultra-wide monitors */
@media (min-aspect-ratio: 21/9) {
    .planet-wrapper {
        width: 120vmax;
        min-width: 150vw;
    }
}

/* === LAYER 3: Noise Overlay === */
.noise-overlay {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
    pointer-events: none;
    overflow: hidden;
}

.noise-texture {
    position: absolute;
    inset: -10%;
    width: 120%;
    height: 120%;
    opacity: 0.035;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    animation: noiseShift 8s steps(10) infinite;
}

@keyframes noiseShift {

    0%,
    100% {
        transform: translate(0, 0);
    }

    10% {
        transform: translate(-2%, -2%);
    }

    20% {
        transform: translate(1%, 2%);
    }

    30% {
        transform: translate(-1%, -1%);
    }

    40% {
        transform: translate(2%, 1%);
    }

    50% {
        transform: translate(-2%, 2%);
    }

    60% {
        transform: translate(1%, -2%);
    }

    70% {
        transform: translate(-1%, 1%);
    }

    80% {
        transform: translate(2%, -1%);
    }

    90% {
        transform: translate(-2%, -2%);
    }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .noise-texture {
        animation: none;
    }
}

/* Hero fog overlay */
.hero-fog {
    position: absolute;
    inset: 0;
    z-index: 4;
    pointer-events: none;
    background: radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.55) 55%, rgba(0, 0, 0, 0.82) 100%);
    mix-blend-mode: multiply;
}

/* ====== SAFETY ====== */
html,
body {
    background: #000;
    overflow-x: hidden;
}

.main-content {
    position: relative;
    z-index: 10;
}